CREATE DATABASE IF NOT EXISTS metastore;

USE metastore;



# ************************************************************
# Sequel Ace SQL dump
# Version 20064
#
# https://sequel-ace.com/
# https://github.com/Sequel-Ace/Sequel-Ace
#
# Host: localhost (MySQL 8.0.41)
# Database: metastore
# Generation Time: 2025-04-11 08:51:37 +0000
# ************************************************************


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
SET NAMES utf8mb4;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE='NO_AUTO_VALUE_ON_ZERO', SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

USE `metastore`;

# Dump of table AUX_TABLE
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `AUX_TABLE` (
  `MT_KEY1` varchar(128) NOT NULL,
  `MT_KEY2` bigint NOT NULL,
  `MT_COMMENT` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`MT_KEY1`,`MT_KEY2`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table BUCKETING_COLS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `BUCKETING_COLS` (
  `SD_ID` bigint NOT NULL,
  `BUCKET_COL_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID`,`INTEGER_IDX`),
  KEY `BUCKETING_COLS_N49` (`SD_ID`),
  CONSTRAINT `BUCKETING_COLS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table CDS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `CDS` (
  `CD_ID` bigint NOT NULL,
  PRIMARY KEY (`CD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table COLUMNS_V2
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `COLUMNS_V2` (
  `CD_ID` bigint NOT NULL,
  `COMMENT` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TYPE_NAME` mediumtext,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`CD_ID`,`COLUMN_NAME`),
  KEY `COLUMNS_V2_N49` (`CD_ID`),
  CONSTRAINT `COLUMNS_V2_FK1` FOREIGN KEY (`CD_ID`) REFERENCES `CDS` (`CD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table COMPACTION_METRICS_CACHE
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `COMPACTION_METRICS_CACHE` (
  `CMC_DATABASE` varchar(128) NOT NULL,
  `CMC_TABLE` varchar(256) NOT NULL,
  `CMC_PARTITION` varchar(767) DEFAULT NULL,
  `CMC_METRIC_TYPE` varchar(128) NOT NULL,
  `CMC_METRIC_VALUE` int NOT NULL,
  `CMC_VERSION` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table COMPACTION_QUEUE
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `COMPACTION_QUEUE` (
  `CQ_ID` bigint NOT NULL,
  `CQ_DATABASE` varchar(128) NOT NULL,
  `CQ_TABLE` varchar(256) NOT NULL,
  `CQ_PARTITION` varchar(767) DEFAULT NULL,
  `CQ_STATE` char(1) NOT NULL,
  `CQ_TYPE` char(1) NOT NULL,
  `CQ_TBLPROPERTIES` varchar(2048) DEFAULT NULL,
  `CQ_WORKER_ID` varchar(128) DEFAULT NULL,
  `CQ_ENQUEUE_TIME` bigint DEFAULT NULL,
  `CQ_START` bigint DEFAULT NULL,
  `CQ_RUN_AS` varchar(128) DEFAULT NULL,
  `CQ_HIGHEST_WRITE_ID` bigint DEFAULT NULL,
  `CQ_META_INFO` varbinary(2048) DEFAULT NULL,
  `CQ_HADOOP_JOB_ID` varchar(32) DEFAULT NULL,
  `CQ_ERROR_MESSAGE` mediumtext,
  `CQ_NEXT_TXN_ID` bigint DEFAULT NULL,
  `CQ_TXN_ID` bigint DEFAULT NULL,
  `CQ_COMMIT_TIME` bigint DEFAULT NULL,
  `CQ_INITIATOR_ID` varchar(128) DEFAULT NULL,
  `CQ_INITIATOR_VERSION` varchar(128) DEFAULT NULL,
  `CQ_WORKER_VERSION` varchar(128) DEFAULT NULL,
  `CQ_CLEANER_START` bigint DEFAULT NULL,
  `CQ_RETRY_RETENTION` bigint NOT NULL DEFAULT '0',
  `CQ_POOL_NAME` varchar(128) DEFAULT NULL,
  `CQ_NUMBER_OF_BUCKETS` int DEFAULT NULL,
  `CQ_ORDER_BY` varchar(4000) DEFAULT NULL,
  PRIMARY KEY (`CQ_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table COMPLETED_COMPACTIONS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `COMPLETED_COMPACTIONS` (
  `CC_ID` bigint NOT NULL,
  `CC_DATABASE` varchar(128) NOT NULL,
  `CC_TABLE` varchar(256) NOT NULL,
  `CC_PARTITION` varchar(767) DEFAULT NULL,
  `CC_STATE` char(1) NOT NULL,
  `CC_TYPE` char(1) NOT NULL,
  `CC_TBLPROPERTIES` varchar(2048) DEFAULT NULL,
  `CC_WORKER_ID` varchar(128) DEFAULT NULL,
  `CC_ENQUEUE_TIME` bigint DEFAULT NULL,
  `CC_START` bigint DEFAULT NULL,
  `CC_END` bigint DEFAULT NULL,
  `CC_RUN_AS` varchar(128) DEFAULT NULL,
  `CC_HIGHEST_WRITE_ID` bigint DEFAULT NULL,
  `CC_META_INFO` varbinary(2048) DEFAULT NULL,
  `CC_HADOOP_JOB_ID` varchar(32) DEFAULT NULL,
  `CC_ERROR_MESSAGE` mediumtext,
  `CC_NEXT_TXN_ID` bigint DEFAULT NULL,
  `CC_TXN_ID` bigint DEFAULT NULL,
  `CC_COMMIT_TIME` bigint DEFAULT NULL,
  `CC_INITIATOR_ID` varchar(128) DEFAULT NULL,
  `CC_INITIATOR_VERSION` varchar(128) DEFAULT NULL,
  `CC_WORKER_VERSION` varchar(128) DEFAULT NULL,
  `CC_POOL_NAME` varchar(128) DEFAULT NULL,
  `CC_NUMBER_OF_BUCKETS` int DEFAULT NULL,
  `CC_ORDER_BY` varchar(4000) DEFAULT NULL,
  PRIMARY KEY (`CC_ID`),
  KEY `COMPLETED_COMPACTIONS_RES` (`CC_DATABASE`,`CC_TABLE`,`CC_PARTITION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table COMPLETED_TXN_COMPONENTS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `COMPLETED_TXN_COMPONENTS` (
  `CTC_TXNID` bigint NOT NULL,
  `CTC_DATABASE` varchar(128) NOT NULL,
  `CTC_TABLE` varchar(256) DEFAULT NULL,
  `CTC_PARTITION` varchar(767) DEFAULT NULL,
  `CTC_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CTC_WRITEID` bigint DEFAULT NULL,
  `CTC_UPDATE_DELETE` char(1) NOT NULL,
  KEY `COMPLETED_TXN_COMPONENTS_IDX` (`CTC_DATABASE`,`CTC_TABLE`,`CTC_PARTITION`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table CTLGS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `CTLGS` (
  `CTLG_ID` bigint NOT NULL,
  `NAME` varchar(256) DEFAULT NULL,
  `DESC` varchar(4000) DEFAULT NULL,
  `LOCATION_URI` varchar(4000) NOT NULL,
  `CREATE_TIME` int DEFAULT NULL,
  PRIMARY KEY (`CTLG_ID`),
  UNIQUE KEY `UNIQUE_CATALOG` (`NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DATABASE_PARAMS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DATABASE_PARAMS` (
  `DB_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(180) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`DB_ID`,`PARAM_KEY`),
  KEY `DATABASE_PARAMS_N49` (`DB_ID`),
  CONSTRAINT `DATABASE_PARAMS_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DATACONNECTOR_PARAMS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DATACONNECTOR_PARAMS` (
  `NAME` varchar(128) NOT NULL,
  `PARAM_KEY` varchar(180) NOT NULL,
  `PARAM_VALUE` varchar(4000) DEFAULT NULL,
  PRIMARY KEY (`NAME`,`PARAM_KEY`),
  CONSTRAINT `DATACONNECTOR_NAME_FK1` FOREIGN KEY (`NAME`) REFERENCES `DATACONNECTORS` (`NAME`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DATACONNECTORS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DATACONNECTORS` (
  `NAME` varchar(128) NOT NULL,
  `TYPE` varchar(32) NOT NULL,
  `URL` varchar(4000) NOT NULL,
  `COMMENT` varchar(256) DEFAULT NULL,
  `OWNER_NAME` varchar(256) DEFAULT NULL,
  `OWNER_TYPE` varchar(10) DEFAULT NULL,
  `CREATE_TIME` int NOT NULL,
  PRIMARY KEY (`NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DB_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DB_PRIVS` (
  `DB_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint DEFAULT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `DB_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`DB_GRANT_ID`),
  UNIQUE KEY `DBPRIVILEGEINDEX` (`AUTHORIZER`,`DB_ID`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`DB_PRIV`,`GRANTOR`,`GRANTOR_TYPE`),
  KEY `DB_PRIVS_N49` (`DB_ID`),
  CONSTRAINT `DB_PRIVS_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DBS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DBS` (
  `DB_ID` bigint NOT NULL,
  `DESC` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `DB_LOCATION_URI` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `OWNER_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `OWNER_TYPE` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `CTLG_NAME` varchar(256) NOT NULL DEFAULT 'hive',
  `CREATE_TIME` int DEFAULT NULL,
  `DB_MANAGED_LOCATION_URI` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TYPE` varchar(32) NOT NULL DEFAULT 'NATIVE',
  `DATACONNECTOR_NAME` varchar(128) DEFAULT NULL,
  `REMOTE_DBNAME` varchar(128) DEFAULT NULL,
  PRIMARY KEY (`DB_ID`),
  UNIQUE KEY `UNIQUE_DATABASE` (`NAME`,`CTLG_NAME`),
  KEY `CTLG_FK1` (`CTLG_NAME`),
  CONSTRAINT `CTLG_FK1` FOREIGN KEY (`CTLG_NAME`) REFERENCES `CTLGS` (`NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DC_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DC_PRIVS` (
  `DC_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `NAME` varchar(128) DEFAULT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `DC_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`DC_GRANT_ID`),
  UNIQUE KEY `DCPRIVILEGEINDEX` (`AUTHORIZER`,`NAME`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`DC_PRIV`,`GRANTOR`,`GRANTOR_TYPE`),
  KEY `DC_PRIVS_N49` (`NAME`),
  CONSTRAINT `DC_PRIVS_FK1` FOREIGN KEY (`NAME`) REFERENCES `DATACONNECTORS` (`NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table DELEGATION_TOKENS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `DELEGATION_TOKENS` (
  `TOKEN_IDENT` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TOKEN` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`TOKEN_IDENT`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table FUNC_RU
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `FUNC_RU` (
  `FUNC_ID` bigint NOT NULL,
  `RESOURCE_TYPE` int NOT NULL,
  `RESOURCE_URI` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`FUNC_ID`,`INTEGER_IDX`),
  CONSTRAINT `FUNC_RU_FK1` FOREIGN KEY (`FUNC_ID`) REFERENCES `FUNCS` (`FUNC_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table FUNCS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `FUNCS` (
  `FUNC_ID` bigint NOT NULL,
  `CLASS_NAME` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint DEFAULT NULL,
  `FUNC_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `FUNC_TYPE` int NOT NULL,
  `OWNER_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `OWNER_TYPE` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`FUNC_ID`),
  UNIQUE KEY `UNIQUEFUNCTION` (`FUNC_NAME`,`DB_ID`),
  KEY `FUNCS_N49` (`DB_ID`),
  CONSTRAINT `FUNCS_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table GLOBAL_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `GLOBAL_PRIVS` (
  `USER_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `USER_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`USER_GRANT_ID`),
  UNIQUE KEY `GLOBALPRIVILEGEINDEX` (`AUTHORIZER`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`USER_PRIV`,`GRANTOR`,`GRANTOR_TYPE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table HIVE_LOCKS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `HIVE_LOCKS` (
  `HL_LOCK_EXT_ID` bigint NOT NULL,
  `HL_LOCK_INT_ID` bigint NOT NULL,
  `HL_TXNID` bigint NOT NULL,
  `HL_DB` varchar(128) NOT NULL,
  `HL_TABLE` varchar(256) DEFAULT NULL,
  `HL_PARTITION` varchar(767) DEFAULT NULL,
  `HL_LOCK_STATE` char(1) NOT NULL,
  `HL_LOCK_TYPE` char(1) NOT NULL,
  `HL_LAST_HEARTBEAT` bigint NOT NULL,
  `HL_ACQUIRED_AT` bigint DEFAULT NULL,
  `HL_USER` varchar(128) NOT NULL,
  `HL_HOST` varchar(128) NOT NULL,
  `HL_HEARTBEAT_COUNT` int DEFAULT NULL,
  `HL_AGENT_INFO` varchar(128) DEFAULT NULL,
  `HL_BLOCKEDBY_EXT_ID` bigint DEFAULT NULL,
  `HL_BLOCKEDBY_INT_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`HL_LOCK_EXT_ID`,`HL_LOCK_INT_ID`),
  KEY `HIVE_LOCK_TXNID_INDEX` (`HL_TXNID`),
  KEY `HL_TXNID_IDX` (`HL_TXNID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table I_SCHEMA
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `I_SCHEMA` (
  `SCHEMA_ID` bigint NOT NULL,
  `SCHEMA_TYPE` int NOT NULL,
  `NAME` varchar(256) DEFAULT NULL,
  `DB_ID` bigint DEFAULT NULL,
  `COMPATIBILITY` int NOT NULL,
  `VALIDATION_LEVEL` int NOT NULL,
  `CAN_EVOLVE` bit(1) NOT NULL,
  `SCHEMA_GROUP` varchar(256) DEFAULT NULL,
  `DESCRIPTION` varchar(4000) DEFAULT NULL,
  PRIMARY KEY (`SCHEMA_ID`),
  KEY `DB_ID` (`DB_ID`),
  KEY `UNIQUE_NAME` (`NAME`),
  CONSTRAINT `I_SCHEMA_ibfk_1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table KEY_CONSTRAINTS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `KEY_CONSTRAINTS` (
  `CHILD_CD_ID` bigint DEFAULT NULL,
  `CHILD_INTEGER_IDX` int DEFAULT NULL,
  `CHILD_TBL_ID` bigint DEFAULT NULL,
  `PARENT_CD_ID` bigint DEFAULT NULL,
  `PARENT_INTEGER_IDX` int NOT NULL,
  `PARENT_TBL_ID` bigint NOT NULL,
  `POSITION` bigint NOT NULL,
  `CONSTRAINT_NAME` varchar(400) NOT NULL,
  `CONSTRAINT_TYPE` smallint NOT NULL,
  `UPDATE_RULE` smallint DEFAULT NULL,
  `DELETE_RULE` smallint DEFAULT NULL,
  `ENABLE_VALIDATE_RELY` smallint NOT NULL,
  `DEFAULT_VALUE` varchar(400) DEFAULT NULL,
  PRIMARY KEY (`PARENT_TBL_ID`,`CONSTRAINT_NAME`,`POSITION`),
  KEY `CONSTRAINTS_PARENT_TABLE_ID_INDEX` (`PARENT_TBL_ID`) USING BTREE,
  KEY `CONSTRAINTS_CONSTRAINT_TYPE_INDEX` (`CONSTRAINT_TYPE`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table MASTER_KEYS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `MASTER_KEYS` (
  `KEY_ID` int NOT NULL AUTO_INCREMENT,
  `MASTER_KEY` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`KEY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table MATERIALIZATION_REBUILD_LOCKS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `MATERIALIZATION_REBUILD_LOCKS` (
  `MRL_TXN_ID` bigint NOT NULL,
  `MRL_DB_NAME` varchar(128) NOT NULL,
  `MRL_TBL_NAME` varchar(256) NOT NULL,
  `MRL_LAST_HEARTBEAT` bigint NOT NULL,
  PRIMARY KEY (`MRL_TXN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table METASTORE_DB_PROPERTIES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `METASTORE_DB_PROPERTIES` (
  `PROPERTY_KEY` varchar(255) NOT NULL,
  `PROPERTY_VALUE` varchar(1000) NOT NULL,
  `DESCRIPTION` varchar(1000) DEFAULT NULL,
  `PROPERTYCONTENT` blob,
  PRIMARY KEY (`PROPERTY_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table MIN_HISTORY_LEVEL
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `MIN_HISTORY_LEVEL` (
  `MHL_TXNID` bigint NOT NULL,
  `MHL_MIN_OPEN_TXNID` bigint NOT NULL,
  PRIMARY KEY (`MHL_TXNID`),
  KEY `MIN_HISTORY_LEVEL_IDX` (`MHL_MIN_OPEN_TXNID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table MIN_HISTORY_WRITE_ID
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `MIN_HISTORY_WRITE_ID` (
  `MH_TXNID` bigint NOT NULL,
  `MH_DATABASE` varchar(128) NOT NULL,
  `MH_TABLE` varchar(256) NOT NULL,
  `MH_WRITEID` bigint NOT NULL,
  KEY `MH_TXNID` (`MH_TXNID`),
  CONSTRAINT `MIN_HISTORY_WRITE_ID_ibfk_1` FOREIGN KEY (`MH_TXNID`) REFERENCES `TXNS` (`TXN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table MV_CREATION_METADATA
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `MV_CREATION_METADATA` (
  `MV_CREATION_METADATA_ID` bigint NOT NULL,
  `CAT_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `DB_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TBL_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TXN_LIST` text,
  `MATERIALIZATION_TIME` bigint NOT NULL,
  PRIMARY KEY (`MV_CREATION_METADATA_ID`),
  KEY `MV_UNIQUE_TABLE` (`TBL_NAME`,`DB_NAME`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table MV_TABLES_USED
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `MV_TABLES_USED` (
  `MV_CREATION_METADATA_ID` bigint NOT NULL,
  `TBL_ID` bigint NOT NULL,
  `INSERTED_COUNT` bigint NOT NULL DEFAULT '0',
  `UPDATED_COUNT` bigint NOT NULL DEFAULT '0',
  `DELETED_COUNT` bigint NOT NULL DEFAULT '0',
  PRIMARY KEY (`TBL_ID`,`MV_CREATION_METADATA_ID`),
  KEY `MV_TABLES_USED_FK1` (`MV_CREATION_METADATA_ID`),
  CONSTRAINT `MV_TABLES_USED_FK1` FOREIGN KEY (`MV_CREATION_METADATA_ID`) REFERENCES `MV_CREATION_METADATA` (`MV_CREATION_METADATA_ID`),
  CONSTRAINT `MV_TABLES_USED_FK2` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table NEXT_COMPACTION_QUEUE_ID
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `NEXT_COMPACTION_QUEUE_ID` (
  `NCQ_NEXT` bigint NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table NEXT_LOCK_ID
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `NEXT_LOCK_ID` (
  `NL_NEXT` bigint NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table NEXT_WRITE_ID
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `NEXT_WRITE_ID` (
  `NWI_DATABASE` varchar(128) NOT NULL,
  `NWI_TABLE` varchar(256) NOT NULL,
  `NWI_NEXT` bigint NOT NULL,
  UNIQUE KEY `NEXT_WRITE_ID_IDX` (`NWI_DATABASE`,`NWI_TABLE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table NOTIFICATION_LOG
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `NOTIFICATION_LOG` (
  `NL_ID` bigint NOT NULL,
  `EVENT_ID` bigint NOT NULL,
  `EVENT_TIME` int NOT NULL,
  `EVENT_TYPE` varchar(32) NOT NULL,
  `CAT_NAME` varchar(256) DEFAULT NULL,
  `DB_NAME` varchar(128) DEFAULT NULL,
  `TBL_NAME` varchar(256) DEFAULT NULL,
  `MESSAGE` longtext,
  `MESSAGE_FORMAT` varchar(16) DEFAULT NULL,
  PRIMARY KEY (`NL_ID`),
  UNIQUE KEY `NOTIFICATION_LOG_EVENT_ID` (`EVENT_ID`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table NOTIFICATION_SEQUENCE
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `NOTIFICATION_SEQUENCE` (
  `NNI_ID` bigint NOT NULL,
  `NEXT_EVENT_ID` bigint NOT NULL,
  PRIMARY KEY (`NNI_ID`),
  CONSTRAINT `ONE_ROW_CONSTRAINT` CHECK ((`NNI_ID` = 1))
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table NUCLEUS_TABLES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `NUCLEUS_TABLES` (
  `CLASS_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TABLE_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TYPE` varchar(4) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `OWNER` varchar(2) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `VERSION` varchar(20) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `INTERFACE_NAME` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`CLASS_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PACKAGES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PACKAGES` (
  `PKG_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint NOT NULL,
  `NAME` varchar(256) NOT NULL,
  `OWNER_NAME` varchar(128) NOT NULL,
  `HEADER` longtext NOT NULL,
  `BODY` longtext NOT NULL,
  PRIMARY KEY (`PKG_ID`),
  UNIQUE KEY `UNIQUEPKG` (`NAME`,`DB_ID`),
  KEY `PACKAGES_FK1` (`DB_ID`),
  CONSTRAINT `PACKAGES_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;



# Dump of table PART_COL_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PART_COL_PRIVS` (
  `PART_COLUMN_GRANT_ID` bigint NOT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PART_ID` bigint DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PART_COL_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`PART_COLUMN_GRANT_ID`),
  KEY `PART_COL_PRIVS_N49` (`PART_ID`),
  KEY `PARTITIONCOLUMNPRIVILEGEINDEX` (`AUTHORIZER`,`PART_ID`,`COLUMN_NAME`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`PART_COL_PRIV`,`GRANTOR`,`GRANTOR_TYPE`),
  CONSTRAINT `PART_COL_PRIVS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PART_COL_STATS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PART_COL_STATS` (
  `CS_ID` bigint NOT NULL,
  `CAT_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `DB_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TABLE_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PARTITION_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `COLUMN_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PART_ID` bigint NOT NULL,
  `LONG_LOW_VALUE` bigint DEFAULT NULL,
  `LONG_HIGH_VALUE` bigint DEFAULT NULL,
  `DOUBLE_HIGH_VALUE` double(53,4) DEFAULT NULL,
  `DOUBLE_LOW_VALUE` double(53,4) DEFAULT NULL,
  `BIG_DECIMAL_LOW_VALUE` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `BIG_DECIMAL_HIGH_VALUE` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `NUM_NULLS` bigint NOT NULL,
  `NUM_DISTINCTS` bigint DEFAULT NULL,
  `BIT_VECTOR` blob,
  `AVG_COL_LEN` double(53,4) DEFAULT NULL,
  `MAX_COL_LEN` bigint DEFAULT NULL,
  `NUM_TRUES` bigint DEFAULT NULL,
  `NUM_FALSES` bigint DEFAULT NULL,
  `LAST_ANALYZED` bigint NOT NULL,
  `ENGINE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `HISTOGRAM` blob,
  PRIMARY KEY (`CS_ID`),
  KEY `PART_COL_STATS_FK` (`PART_ID`),
  KEY `PCS_STATS_IDX` (`DB_NAME`,`TABLE_NAME`,`COLUMN_NAME`,`PARTITION_NAME`,`CAT_NAME`) USING BTREE,
  CONSTRAINT `PART_COL_STATS_FK` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PART_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PART_PRIVS` (
  `PART_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PART_ID` bigint DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PART_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`PART_GRANT_ID`),
  KEY `PARTPRIVILEGEINDEX` (`AUTHORIZER`,`PART_ID`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`PART_PRIV`,`GRANTOR`,`GRANTOR_TYPE`),
  KEY `PART_PRIVS_N49` (`PART_ID`),
  CONSTRAINT `PART_PRIVS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PARTITION_EVENTS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PARTITION_EVENTS` (
  `PART_NAME_ID` bigint NOT NULL,
  `CAT_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `DB_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `EVENT_TIME` bigint NOT NULL,
  `EVENT_TYPE` int NOT NULL,
  `PARTITION_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TBL_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`PART_NAME_ID`),
  KEY `PARTITIONEVENTINDEX` (`PARTITION_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PARTITION_KEY_VALS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PARTITION_KEY_VALS` (
  `PART_ID` bigint NOT NULL,
  `PART_KEY_VAL` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`PART_ID`,`INTEGER_IDX`),
  KEY `PARTITION_KEY_VALS_N49` (`PART_ID`),
  CONSTRAINT `PARTITION_KEY_VALS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PARTITION_KEYS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PARTITION_KEYS` (
  `TBL_ID` bigint NOT NULL,
  `PKEY_COMMENT` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PKEY_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PKEY_TYPE` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`TBL_ID`,`PKEY_NAME`),
  KEY `PARTITION_KEYS_N49` (`TBL_ID`),
  CONSTRAINT `PARTITION_KEYS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PARTITION_PARAMS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PARTITION_PARAMS` (
  `PART_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PARAM_VALUE` mediumtext CHARACTER SET latin1 COLLATE latin1_bin,
  PRIMARY KEY (`PART_ID`,`PARAM_KEY`),
  KEY `PARTITION_PARAMS_N49` (`PART_ID`),
  CONSTRAINT `PARTITION_PARAMS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table PARTITIONS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `PARTITIONS` (
  `PART_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `LAST_ACCESS_TIME` int NOT NULL,
  `PART_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `SD_ID` bigint DEFAULT NULL,
  `TBL_ID` bigint DEFAULT NULL,
  `WRITE_ID` bigint DEFAULT '0',
  PRIMARY KEY (`PART_ID`),
  UNIQUE KEY `UNIQUEPARTITION` (`TBL_ID`,`PART_NAME`),
  KEY `PARTITIONS_N50` (`SD_ID`),
  CONSTRAINT `PARTITIONS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`),
  CONSTRAINT `PARTITIONS_FK2` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table REPL_TXN_MAP
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `REPL_TXN_MAP` (
  `RTM_REPL_POLICY` varchar(256) NOT NULL,
  `RTM_SRC_TXN_ID` bigint NOT NULL,
  `RTM_TARGET_TXN_ID` bigint NOT NULL,
  PRIMARY KEY (`RTM_REPL_POLICY`,`RTM_SRC_TXN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table REPLICATION_METRICS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `REPLICATION_METRICS` (
  `RM_SCHEDULED_EXECUTION_ID` bigint NOT NULL,
  `RM_POLICY` varchar(256) NOT NULL,
  `RM_DUMP_EXECUTION_ID` bigint NOT NULL,
  `RM_METADATA` varchar(4000) DEFAULT NULL,
  `RM_PROGRESS` varchar(10000) DEFAULT NULL,
  `RM_START_TIME` int NOT NULL,
  `MESSAGE_FORMAT` varchar(16) DEFAULT 'json-0.2',
  PRIMARY KEY (`RM_SCHEDULED_EXECUTION_ID`),
  KEY `POLICY_IDX` (`RM_POLICY`),
  KEY `DUMP_IDX` (`RM_DUMP_EXECUTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table ROLE_MAP
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `ROLE_MAP` (
  `ROLE_GRANT_ID` bigint NOT NULL,
  `ADD_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `ROLE_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`ROLE_GRANT_ID`),
  UNIQUE KEY `USERROLEMAPINDEX` (`PRINCIPAL_NAME`,`ROLE_ID`,`GRANTOR`,`GRANTOR_TYPE`),
  KEY `ROLE_MAP_N49` (`ROLE_ID`),
  CONSTRAINT `ROLE_MAP_FK1` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLES` (`ROLE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table ROLES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `ROLES` (
  `ROLE_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `OWNER_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `ROLE_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`ROLE_ID`),
  UNIQUE KEY `ROLEENTITYINDEX` (`ROLE_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table RUNTIME_STATS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `RUNTIME_STATS` (
  `RS_ID` bigint NOT NULL,
  `CREATE_TIME` bigint NOT NULL,
  `WEIGHT` bigint NOT NULL,
  `PAYLOAD` blob,
  PRIMARY KEY (`RS_ID`),
  KEY `IDX_RUNTIME_STATS_CREATE_TIME` (`CREATE_TIME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SCHEDULED_EXECUTIONS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SCHEDULED_EXECUTIONS` (
  `SCHEDULED_EXECUTION_ID` bigint NOT NULL,
  `END_TIME` int DEFAULT NULL,
  `ERROR_MESSAGE` varchar(2000) DEFAULT NULL,
  `EXECUTOR_QUERY_ID` varchar(256) DEFAULT NULL,
  `LAST_UPDATE_TIME` int DEFAULT NULL,
  `SCHEDULED_QUERY_ID` bigint DEFAULT NULL,
  `START_TIME` int DEFAULT NULL,
  `STATE` varchar(256) DEFAULT NULL,
  PRIMARY KEY (`SCHEDULED_EXECUTION_ID`),
  UNIQUE KEY `UNIQUE_SCHEDULED_EXECUTIONS_ID` (`SCHEDULED_EXECUTION_ID`),
  KEY `IDX_SCHEDULED_EXECUTIONS_LAST_UPDATE_TIME` (`LAST_UPDATE_TIME`),
  KEY `IDX_SCHEDULED_EXECUTIONS_SCHEDULED_QUERY_ID` (`SCHEDULED_QUERY_ID`),
  CONSTRAINT `SCHEDULED_EXECUTIONS_SCHQ_FK` FOREIGN KEY (`SCHEDULED_QUERY_ID`) REFERENCES `SCHEDULED_QUERIES` (`SCHEDULED_QUERY_ID`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;



# Dump of table SCHEDULED_QUERIES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SCHEDULED_QUERIES` (
  `SCHEDULED_QUERY_ID` bigint NOT NULL,
  `CLUSTER_NAMESPACE` varchar(256) DEFAULT NULL,
  `ENABLED` tinyint(1) NOT NULL,
  `NEXT_EXECUTION` int DEFAULT NULL,
  `QUERY` varchar(4000) DEFAULT NULL,
  `SCHEDULE` varchar(256) DEFAULT NULL,
  `SCHEDULE_NAME` varchar(256) DEFAULT NULL,
  `USER` varchar(256) DEFAULT NULL,
  `ACTIVE_EXECUTION_ID` int DEFAULT NULL,
  PRIMARY KEY (`SCHEDULED_QUERY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;



# Dump of table SCHEMA_VERSION
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SCHEMA_VERSION` (
  `SCHEMA_VERSION_ID` bigint NOT NULL,
  `SCHEMA_ID` bigint DEFAULT NULL,
  `VERSION` int NOT NULL,
  `CREATED_AT` bigint NOT NULL,
  `CD_ID` bigint DEFAULT NULL,
  `STATE` int NOT NULL,
  `DESCRIPTION` varchar(4000) DEFAULT NULL,
  `SCHEMA_TEXT` mediumtext,
  `FINGERPRINT` varchar(256) DEFAULT NULL,
  `SCHEMA_VERSION_NAME` varchar(256) DEFAULT NULL,
  `SERDE_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`SCHEMA_VERSION_ID`),
  KEY `CD_ID` (`CD_ID`),
  KEY `SERDE_ID` (`SERDE_ID`),
  KEY `UNIQUE_VERSION` (`SCHEMA_ID`,`VERSION`),
  CONSTRAINT `SCHEMA_VERSION_ibfk_1` FOREIGN KEY (`SCHEMA_ID`) REFERENCES `I_SCHEMA` (`SCHEMA_ID`),
  CONSTRAINT `SCHEMA_VERSION_ibfk_2` FOREIGN KEY (`CD_ID`) REFERENCES `CDS` (`CD_ID`),
  CONSTRAINT `SCHEMA_VERSION_ibfk_3` FOREIGN KEY (`SERDE_ID`) REFERENCES `SERDES` (`SERDE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SD_PARAMS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SD_PARAMS` (
  `SD_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PARAM_VALUE` mediumtext CHARACTER SET latin1 COLLATE latin1_bin,
  PRIMARY KEY (`SD_ID`,`PARAM_KEY`),
  KEY `SD_PARAMS_N49` (`SD_ID`),
  CONSTRAINT `SD_PARAMS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SDS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SDS` (
  `SD_ID` bigint NOT NULL,
  `CD_ID` bigint DEFAULT NULL,
  `INPUT_FORMAT` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `IS_COMPRESSED` bit(1) NOT NULL,
  `IS_STOREDASSUBDIRECTORIES` bit(1) NOT NULL,
  `LOCATION` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `NUM_BUCKETS` int NOT NULL,
  `OUTPUT_FORMAT` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `SERDE_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`SD_ID`),
  KEY `SDS_N49` (`SERDE_ID`),
  KEY `SDS_N50` (`CD_ID`),
  CONSTRAINT `SDS_FK1` FOREIGN KEY (`SERDE_ID`) REFERENCES `SERDES` (`SERDE_ID`),
  CONSTRAINT `SDS_FK2` FOREIGN KEY (`CD_ID`) REFERENCES `CDS` (`CD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SEQUENCE_TABLE
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SEQUENCE_TABLE` (
  `SEQUENCE_NAME` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `NEXT_VAL` bigint NOT NULL,
  PRIMARY KEY (`SEQUENCE_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SERDE_PARAMS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SERDE_PARAMS` (
  `SERDE_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PARAM_VALUE` mediumtext CHARACTER SET latin1 COLLATE latin1_bin,
  PRIMARY KEY (`SERDE_ID`,`PARAM_KEY`),
  KEY `SERDE_PARAMS_N49` (`SERDE_ID`),
  CONSTRAINT `SERDE_PARAMS_FK1` FOREIGN KEY (`SERDE_ID`) REFERENCES `SERDES` (`SERDE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SERDES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SERDES` (
  `SERDE_ID` bigint NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `SLIB` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `DESCRIPTION` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `SERIALIZER_CLASS` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `DESERIALIZER_CLASS` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `SERDE_TYPE` int DEFAULT NULL,
  PRIMARY KEY (`SERDE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SKEWED_COL_NAMES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SKEWED_COL_NAMES` (
  `SD_ID` bigint NOT NULL,
  `SKEWED_COL_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID`,`INTEGER_IDX`),
  KEY `SKEWED_COL_NAMES_N49` (`SD_ID`),
  CONSTRAINT `SKEWED_COL_NAMES_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SKEWED_COL_VALUE_LOC_MAP
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SKEWED_COL_VALUE_LOC_MAP` (
  `SD_ID` bigint NOT NULL,
  `STRING_LIST_ID_KID` bigint NOT NULL,
  `LOCATION` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`SD_ID`,`STRING_LIST_ID_KID`),
  KEY `SKEWED_COL_VALUE_LOC_MAP_N49` (`STRING_LIST_ID_KID`),
  KEY `SKEWED_COL_VALUE_LOC_MAP_N50` (`SD_ID`),
  CONSTRAINT `SKEWED_COL_VALUE_LOC_MAP_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`),
  CONSTRAINT `SKEWED_COL_VALUE_LOC_MAP_FK2` FOREIGN KEY (`STRING_LIST_ID_KID`) REFERENCES `SKEWED_STRING_LIST` (`STRING_LIST_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SKEWED_STRING_LIST
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SKEWED_STRING_LIST` (
  `STRING_LIST_ID` bigint NOT NULL,
  PRIMARY KEY (`STRING_LIST_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SKEWED_STRING_LIST_VALUES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SKEWED_STRING_LIST_VALUES` (
  `STRING_LIST_ID` bigint NOT NULL,
  `STRING_LIST_VALUE` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`STRING_LIST_ID`,`INTEGER_IDX`),
  KEY `SKEWED_STRING_LIST_VALUES_N49` (`STRING_LIST_ID`),
  CONSTRAINT `SKEWED_STRING_LIST_VALUES_FK1` FOREIGN KEY (`STRING_LIST_ID`) REFERENCES `SKEWED_STRING_LIST` (`STRING_LIST_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SKEWED_VALUES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SKEWED_VALUES` (
  `SD_ID_OID` bigint NOT NULL,
  `STRING_LIST_ID_EID` bigint NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID_OID`,`INTEGER_IDX`),
  KEY `SKEWED_VALUES_N50` (`SD_ID_OID`),
  KEY `SKEWED_VALUES_N49` (`STRING_LIST_ID_EID`),
  CONSTRAINT `SKEWED_VALUES_FK1` FOREIGN KEY (`SD_ID_OID`) REFERENCES `SDS` (`SD_ID`),
  CONSTRAINT `SKEWED_VALUES_FK2` FOREIGN KEY (`STRING_LIST_ID_EID`) REFERENCES `SKEWED_STRING_LIST` (`STRING_LIST_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table SORT_COLS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `SORT_COLS` (
  `SD_ID` bigint NOT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `ORDER` int NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID`,`INTEGER_IDX`),
  KEY `SORT_COLS_N49` (`SD_ID`),
  CONSTRAINT `SORT_COLS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table STORED_PROCS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `STORED_PROCS` (
  `SP_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint NOT NULL,
  `NAME` varchar(256) NOT NULL,
  `OWNER_NAME` varchar(128) NOT NULL,
  `SOURCE` longtext NOT NULL,
  PRIMARY KEY (`SP_ID`),
  UNIQUE KEY `UNIQUESTOREDPROC` (`NAME`,`DB_ID`),
  KEY `STOREDPROC_FK1` (`DB_ID`),
  CONSTRAINT `STOREDPROC_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;



# Dump of table TAB_COL_STATS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TAB_COL_STATS` (
  `CS_ID` bigint NOT NULL,
  `CAT_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `DB_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TABLE_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `COLUMN_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `TBL_ID` bigint NOT NULL,
  `LONG_LOW_VALUE` bigint DEFAULT NULL,
  `LONG_HIGH_VALUE` bigint DEFAULT NULL,
  `DOUBLE_HIGH_VALUE` double(53,4) DEFAULT NULL,
  `DOUBLE_LOW_VALUE` double(53,4) DEFAULT NULL,
  `BIG_DECIMAL_LOW_VALUE` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `BIG_DECIMAL_HIGH_VALUE` varchar(4000) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `NUM_NULLS` bigint NOT NULL,
  `NUM_DISTINCTS` bigint DEFAULT NULL,
  `BIT_VECTOR` blob,
  `AVG_COL_LEN` double(53,4) DEFAULT NULL,
  `MAX_COL_LEN` bigint DEFAULT NULL,
  `NUM_TRUES` bigint DEFAULT NULL,
  `NUM_FALSES` bigint DEFAULT NULL,
  `LAST_ANALYZED` bigint NOT NULL,
  `ENGINE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `HISTOGRAM` blob,
  PRIMARY KEY (`CS_ID`),
  KEY `TAB_COL_STATS_FK` (`TBL_ID`),
  KEY `TAB_COL_STATS_IDX` (`DB_NAME`,`TABLE_NAME`,`COLUMN_NAME`,`CAT_NAME`) USING BTREE,
  CONSTRAINT `TAB_COL_STATS_FK` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TABLE_PARAMS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TABLE_PARAMS` (
  `TBL_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `PARAM_VALUE` mediumtext CHARACTER SET latin1 COLLATE latin1_bin,
  PRIMARY KEY (`TBL_ID`,`PARAM_KEY`),
  KEY `TABLE_PARAMS_N49` (`TBL_ID`),
  CONSTRAINT `TABLE_PARAMS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TBL_COL_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TBL_COL_PRIVS` (
  `TBL_COLUMN_GRANT_ID` bigint NOT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TBL_COL_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TBL_ID` bigint DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`TBL_COLUMN_GRANT_ID`),
  KEY `TABLECOLUMNPRIVILEGEINDEX` (`AUTHORIZER`,`TBL_ID`,`COLUMN_NAME`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`TBL_COL_PRIV`,`GRANTOR`,`GRANTOR_TYPE`),
  KEY `TBL_COL_PRIVS_N49` (`TBL_ID`),
  CONSTRAINT `TBL_COL_PRIVS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TBL_PRIVS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TBL_PRIVS` (
  `TBL_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TBL_PRIV` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TBL_ID` bigint DEFAULT NULL,
  `AUTHORIZER` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`TBL_GRANT_ID`),
  KEY `TBL_PRIVS_N49` (`TBL_ID`),
  KEY `TABLEPRIVILEGEINDEX` (`AUTHORIZER`,`TBL_ID`,`PRINCIPAL_NAME`,`PRINCIPAL_TYPE`,`TBL_PRIV`,`GRANTOR`,`GRANTOR_TYPE`),
  CONSTRAINT `TBL_PRIVS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TBLS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TBLS` (
  `TBL_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint DEFAULT NULL,
  `LAST_ACCESS_TIME` int NOT NULL,
  `OWNER` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `OWNER_TYPE` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `RETENTION` int NOT NULL,
  `SD_ID` bigint DEFAULT NULL,
  `TBL_NAME` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TBL_TYPE` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `VIEW_EXPANDED_TEXT` mediumtext,
  `VIEW_ORIGINAL_TEXT` mediumtext,
  `IS_REWRITE_ENABLED` bit(1) NOT NULL DEFAULT b'0',
  `WRITE_ID` bigint DEFAULT '0',
  PRIMARY KEY (`TBL_ID`),
  UNIQUE KEY `UNIQUETABLE` (`TBL_NAME`,`DB_ID`),
  KEY `TBLS_N50` (`SD_ID`),
  KEY `TBLS_N49` (`DB_ID`),
  CONSTRAINT `TBLS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`),
  CONSTRAINT `TBLS_FK2` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TXN_COMPONENTS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TXN_COMPONENTS` (
  `TC_TXNID` bigint NOT NULL,
  `TC_DATABASE` varchar(128) NOT NULL,
  `TC_TABLE` varchar(256) DEFAULT NULL,
  `TC_PARTITION` varchar(767) DEFAULT NULL,
  `TC_OPERATION_TYPE` char(1) NOT NULL,
  `TC_WRITEID` bigint DEFAULT NULL,
  KEY `TC_TXNID_INDEX` (`TC_TXNID`),
  CONSTRAINT `TXN_COMPONENTS_ibfk_1` FOREIGN KEY (`TC_TXNID`) REFERENCES `TXNS` (`TXN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TXN_LOCK_TBL
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TXN_LOCK_TBL` (
  `TXN_LOCK` bigint NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TXN_TO_WRITE_ID
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TXN_TO_WRITE_ID` (
  `T2W_TXNID` bigint NOT NULL,
  `T2W_DATABASE` varchar(128) NOT NULL,
  `T2W_TABLE` varchar(256) NOT NULL,
  `T2W_WRITEID` bigint NOT NULL,
  UNIQUE KEY `TBL_TO_TXN_ID_IDX` (`T2W_DATABASE`,`T2W_TABLE`,`T2W_TXNID`),
  UNIQUE KEY `TBL_TO_WRITE_ID_IDX` (`T2W_DATABASE`,`T2W_TABLE`,`T2W_WRITEID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TXN_WRITE_NOTIFICATION_LOG
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TXN_WRITE_NOTIFICATION_LOG` (
  `WNL_ID` bigint NOT NULL,
  `WNL_TXNID` bigint NOT NULL,
  `WNL_WRITEID` bigint NOT NULL,
  `WNL_DATABASE` varchar(128) NOT NULL,
  `WNL_TABLE` varchar(256) NOT NULL,
  `WNL_PARTITION` varchar(767) NOT NULL,
  `WNL_TABLE_OBJ` longtext NOT NULL,
  `WNL_PARTITION_OBJ` longtext,
  `WNL_FILES` longtext,
  `WNL_EVENT_TIME` int NOT NULL,
  PRIMARY KEY (`WNL_TXNID`,`WNL_DATABASE`,`WNL_TABLE`,`WNL_PARTITION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TXNS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TXNS` (
  `TXN_ID` bigint NOT NULL AUTO_INCREMENT,
  `TXN_STATE` char(1) NOT NULL,
  `TXN_STARTED` bigint NOT NULL,
  `TXN_LAST_HEARTBEAT` bigint NOT NULL,
  `TXN_USER` varchar(128) NOT NULL,
  `TXN_HOST` varchar(128) NOT NULL,
  `TXN_AGENT_INFO` varchar(128) DEFAULT NULL,
  `TXN_META_INFO` varchar(128) DEFAULT NULL,
  `TXN_HEARTBEAT_COUNT` int DEFAULT NULL,
  `TXN_TYPE` int DEFAULT NULL,
  PRIMARY KEY (`TXN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TYPE_FIELDS
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TYPE_FIELDS` (
  `TYPE_NAME` bigint NOT NULL,
  `COMMENT` varchar(256) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `FIELD_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `FIELD_TYPE` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`TYPE_NAME`,`FIELD_NAME`),
  KEY `TYPE_FIELDS_N49` (`TYPE_NAME`),
  CONSTRAINT `TYPE_FIELDS_FK1` FOREIGN KEY (`TYPE_NAME`) REFERENCES `TYPES` (`TYPES_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TYPES
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `TYPES` (
  `TYPES_ID` bigint NOT NULL,
  `TYPE_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TYPE1` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `TYPE2` varchar(767) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  PRIMARY KEY (`TYPES_ID`),
  UNIQUE KEY `UNIQUE_TYPE` (`TYPE_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table VERSION
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `VERSION` (
  `VER_ID` bigint NOT NULL,
  `SCHEMA_VERSION` varchar(127) NOT NULL,
  `VERSION_COMMENT` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`VER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table WM_MAPPING
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `WM_MAPPING` (
  `MAPPING_ID` bigint NOT NULL,
  `RP_ID` bigint NOT NULL,
  `ENTITY_TYPE` varchar(128) NOT NULL,
  `ENTITY_NAME` varchar(128) NOT NULL,
  `POOL_ID` bigint DEFAULT NULL,
  `ORDERING` int DEFAULT NULL,
  PRIMARY KEY (`MAPPING_ID`),
  UNIQUE KEY `UNIQUE_WM_MAPPING` (`RP_ID`,`ENTITY_TYPE`,`ENTITY_NAME`),
  KEY `WM_MAPPING_FK2` (`POOL_ID`),
  CONSTRAINT `WM_MAPPING_FK1` FOREIGN KEY (`RP_ID`) REFERENCES `WM_RESOURCEPLAN` (`RP_ID`),
  CONSTRAINT `WM_MAPPING_FK2` FOREIGN KEY (`POOL_ID`) REFERENCES `WM_POOL` (`POOL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table WM_POOL
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `WM_POOL` (
  `POOL_ID` bigint NOT NULL,
  `RP_ID` bigint NOT NULL,
  `PATH` varchar(767) NOT NULL,
  `ALLOC_FRACTION` double DEFAULT NULL,
  `QUERY_PARALLELISM` int DEFAULT NULL,
  `SCHEDULING_POLICY` varchar(767) DEFAULT NULL,
  PRIMARY KEY (`POOL_ID`),
  UNIQUE KEY `UNIQUE_WM_POOL` (`RP_ID`,`PATH`),
  CONSTRAINT `WM_POOL_FK1` FOREIGN KEY (`RP_ID`) REFERENCES `WM_RESOURCEPLAN` (`RP_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table WM_POOL_TO_TRIGGER
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `WM_POOL_TO_TRIGGER` (
  `POOL_ID` bigint NOT NULL,
  `TRIGGER_ID` bigint NOT NULL,
  PRIMARY KEY (`POOL_ID`,`TRIGGER_ID`),
  KEY `WM_POOL_TO_TRIGGER_FK2` (`TRIGGER_ID`),
  CONSTRAINT `WM_POOL_TO_TRIGGER_FK1` FOREIGN KEY (`POOL_ID`) REFERENCES `WM_POOL` (`POOL_ID`),
  CONSTRAINT `WM_POOL_TO_TRIGGER_FK2` FOREIGN KEY (`TRIGGER_ID`) REFERENCES `WM_TRIGGER` (`TRIGGER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table WM_RESOURCEPLAN
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `WM_RESOURCEPLAN` (
  `RP_ID` bigint NOT NULL,
  `NAME` varchar(128) NOT NULL,
  `NS` varchar(128) DEFAULT NULL,
  `QUERY_PARALLELISM` int DEFAULT NULL,
  `STATUS` varchar(20) NOT NULL,
  `DEFAULT_POOL_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`RP_ID`),
  UNIQUE KEY `UNIQUE_WM_RESOURCEPLAN` (`NAME`,`NS`),
  KEY `WM_RESOURCEPLAN_FK1` (`DEFAULT_POOL_ID`),
  CONSTRAINT `WM_RESOURCEPLAN_FK1` FOREIGN KEY (`DEFAULT_POOL_ID`) REFERENCES `WM_POOL` (`POOL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table WM_TRIGGER
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `WM_TRIGGER` (
  `TRIGGER_ID` bigint NOT NULL,
  `RP_ID` bigint NOT NULL,
  `NAME` varchar(128) NOT NULL,
  `TRIGGER_EXPRESSION` varchar(1024) DEFAULT NULL,
  `ACTION_EXPRESSION` varchar(1024) DEFAULT NULL,
  `IS_IN_UNMANAGED` bit(1) NOT NULL DEFAULT b'0',
  PRIMARY KEY (`TRIGGER_ID`),
  UNIQUE KEY `UNIQUE_WM_TRIGGER` (`RP_ID`,`NAME`),
  CONSTRAINT `WM_TRIGGER_FK1` FOREIGN KEY (`RP_ID`) REFERENCES `WM_RESOURCEPLAN` (`RP_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table WRITE_SET
# ------------------------------------------------------------

CREATE TABLE IF NOT EXISTS `WRITE_SET` (
  `WS_DATABASE` varchar(128) NOT NULL,
  `WS_TABLE` varchar(256) NOT NULL,
  `WS_PARTITION` varchar(767) DEFAULT NULL,
  `WS_TXNID` bigint NOT NULL,
  `WS_COMMIT_ID` bigint NOT NULL,
  `WS_OPERATION_TYPE` char(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;




/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;



INSERT IGNORE INTO `VERSION` (`VER_ID`, `SCHEMA_VERSION`, `VERSION_COMMENT`)
VALUES (1, '4.0.0', 'Hive release version 4.0.0');